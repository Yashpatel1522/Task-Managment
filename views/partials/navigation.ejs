<html>

<head>
  <link rel="stylesheet" href="/css/employee/employee.css">
  <link rel="stylesheet" href="/sweetalert2/sweetalert2.min.css">
  <script src="/sweetalert2/sweetalert2.min.js"></script>
</head>

<body>
  <div class="profilename position-relative">
    <div class="float-start">
      <h3 class="text-center m-3"></h3>
    </div>
    <div class="d-flex position-absolute end-0">
      <div class="bell" >
        <i class="bi bi-bell" onclick="shownotification()"></i>
      </div>

      <div>
        <div class="profile d-flex" style="cursor: pointer;" onclick="showDropdown()">
          <i class="bi bi-person"></i>
          <p><B>Name</B></p>
        </div>
        <div id="dropdown" class="dropdown-content">
          <a href="/admin/profile" type="button" data-bs-toggle="modal" data-bs-target="#staticBackdrop"
            onclick="loadprofile()">Profile</a>
          <a href="/admin/changepassword">Change Password</a>
          <a href="/admin/logout">Logout</a>
        </div>
      </div>
      <%- include('../adminmodulo/profile.ejs') %>
    </div>
  </div>
  <script>
    function shownotification() {
      Swal.fire({
        title: "Notifications",
        text: "Click!",
        icon: "success",
        button: "oh yes!",
      });
    }

    function showDropdown() {
      document.getElementById("dropdown").classList.toggle("show");
    }


    async function loadprofile() {
      let response = await fetch("http://localhost:8000/admin/profiledata").then((response) => { return response.json() }).then((data) => {
        profileData = data.result;
        renderProfileData(profileData)
      })
    }

    const renderProfileData = (profileData) => {
      console.log('this is ', profileData);
      let inputFields = document.querySelectorAll('.form-control')
      inputFields = Array.from(inputFields)
      console.log(inputFields);
    }
  </script>
</body>

</html>